(this["webpackJsonpsuper-boarding"]=this["webpackJsonpsuper-boarding"]||[]).push([[0],{19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(6),o=a.n(s),c=(a(19),a(14)),i=a(2),l=a(4),u=a(3),d=a(0),j=function(e){var t=e.passNewGroupStayUpScope,a={petName:"Mr. Kitty",kennelSize:"medium",notes:"note note note",arrivalDate:"2021-03-16",arrivalTime:"17:00",releaseDate:"2021-03-19",releaseTime:"17:00",singleDayStay:!1},r=Object(n.useState)({groupName:"Smith",groupNotes:"Here's some notes",pets:{1:Object(i.a)({formKey:1,groupName:"Smith"},a)}}),s=Object(l.a)(r,2),o=s[0],c=s[1],j=function(e){c(Object(i.a)(Object(i.a)({},o),{},Object(u.a)({},e.target.name,e.target.value)))},b=function(e){var t=Object(i.a)({},o);t.pets[e.target.getAttribute("data-formkey")]=Object(i.a)(Object(i.a)({},t.pets[e.target.getAttribute("data-formKey")]),{},Object(u.a)({},e.target.name,e.target.value)),c(t)};return Object(d.jsxs)("form",{className:"addStayForm_container",onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsx)("h1",{children:"Add Stay"}),Object(d.jsxs)("div",{className:"addStayForm_groupInfo-container",children:[Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"addStay-groupName",children:"Group Name"}),Object(d.jsx)("input",{required:!0,id:"addStay-groupName",type:"text",minLength:"4",name:"groupName",value:o.groupName,onChange:function(e){return j(e)}})]}),Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"addStay-groupNotes",children:"Group Notes"}),Object(d.jsx)("textarea",{required:!0,id:"addStay-groupNotes",type:"text",minLength:"4",name:"groupNotes",value:o.groupNotes,onChange:function(e){return j(e)}})]})]}),Object(d.jsx)("div",{className:"addStayForm_addPetForms-container",children:Object.keys(o.pets).map((function(e){var t,a;return Object(d.jsxs)("div",{className:"addStayForm_petStay-container",children:[Object(d.jsx)("button",{"data-formkey":e,onClick:function(e){!function(e){var t=Object(i.a)({},o);delete t.pets[e.target.getAttribute("data-formkey")],c(t)}(e)},style:{backgroundColor:"hsl(0,100%,80%)",padding:"0.5em"},children:"Remove"}),Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"addStay-petName",children:"Pet Name"}),Object(d.jsx)("input",{required:!0,name:"petName","data-formkey":e,type:"text",minLength:"2",value:o.pets[e].petName,onChange:function(e){return b(e)}})]}),Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"addStay-arrivalDate",children:"Arrival Date"}),Object(d.jsx)("input",(t={required:!0,name:"arrivalDate","data-formkey":e,type:"date"},Object(u.a)(t,"data-formkey",e),Object(u.a)(t,"value",o.pets[e].arrivalDate),Object(u.a)(t,"onChange",(function(e){return b(e)})),t)),Object(d.jsx)("label",{htmlFor:"addStay-arrivalTime",children:"Arrival Time"}),Object(d.jsx)("input",(a={required:!0,name:"arrivalTime","data-formkey":e,type:"time"},Object(u.a)(a,"data-formkey",e),Object(u.a)(a,"value",o.pets[e].arrivalTime),Object(u.a)(a,"onChange",(function(e){return b(e)})),a))]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"releaseDate",children:"Release Date"}),Object(d.jsx)("input",{required:!0,name:"releaseDate","data-formkey":e,type:"date",value:o.pets[e].releaseDate,onChange:function(e){return b(e)}}),Object(d.jsx)("label",{htmlFor:"releaseTime",children:"Release Time"}),Object(d.jsx)("input",{required:!0,name:"releaseTime","data-formkey":e,type:"time",value:o.pets[e].releaseTime,onChange:function(e){return b(e)}})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"addStay-kennelSize",children:"Kennel Size"}),Object(d.jsx)("br",{}),Object(d.jsxs)("select",{required:!0,name:"kennelSize","data-formkey":e,value:o.pets[e].kennelSize,onChange:function(e){return b(e)},children:[Object(d.jsx)("option",{value:"small",children:"Small"}),Object(d.jsx)("option",{value:"medium",children:"Medium"}),Object(d.jsx)("option",{value:"large",children:"Large"})]})]}),Object(d.jsxs)("div",{className:"addStayForm_inputWrapper",children:[Object(d.jsx)("label",{htmlFor:"addStay-petNotes",children:"Pet Notes"}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{name:"notes","data-formkey":e,value:o.pets[e].notes,onChange:function(e){return b(e)},placeholder:"Notes, medical or otherwise"})]}),Object(d.jsx)("hr",{})]},e)}))}),Object(d.jsxs)("div",{className:"addStayForm_addAnotherPet-container",children:[Object(d.jsx)("button",{onClick:function(){var e=Object(i.a)({},o),t=Math.ceil(2*Object.keys(e.pets).length*Math.random()*1e3);e.pets[t]=Object(i.a)({formKey:t},a),c(e)},children:"Add Another Pet"}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("addForm is passing up:",o),t(o)},children:"Submit"})]})]})},b=function(e){var t=e.kennelReservation;return Object(d.jsx)("div",{className:"kennelOverview",children:Object(d.jsxs)("p",{children:[t.kennelId,".) ",t.petName]})})},p=function(e){var t=e.kennelSizeReservations,a=t[0].kennelSize;return Object(d.jsxs)("div",{className:"kennelRow kennelRow-"+a,children:[Object(d.jsxs)("h3",{children:["Row Size: ",a]}),t.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(b,{kennelReservation:e},e.kennelId)})}))]})},m=function(e){var t=e.reservationsForDay,a={};return t.kennelReservations.map((function(e){a[e.kennelSize]?a[e.kennelSize].push(e):a[e.kennelSize]=[e]})),Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("h2",{children:["Date: ",t.date]}),Object.values(a).map((function(e){return Object(d.jsx)(p,{kennelSizeReservations:e},e.kennelSize)}))]})},O=function(e){var t=e.reservations;return Object(d.jsxs)("div",{className:"dayOverview_container",children:[Object(d.jsx)("h1",{children:"Days:"}),Object.values(t).map((function(e){return Object(d.jsx)(m,{reservationsForDay:e},e.date)}))]})},v=a(9),h=a(12);var g=function(){var e=Object(n.useState)({groupName:"useState groupName outer",groupNotes:"Some group notes",pets:[{groupName:"useState groupName inner",petName:"useState Mr. Kitty",kennelSize:"medium",arrivalDate:"",arrivalTime:"09:15",releaseDate:"",releaseTime:"17:00",notes:"Her name is Mr. Kitty"}]}),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)({})),r=Object(l.a)(a,2),s=r[0],o=r[1],u=Object(n.useState)({}),b=Object(l.a)(u,2),p=b[0],m=b[1],h=Object(n.useState)({}),g=Object(l.a)(h,2),f=g[0],S=g[1],y={},x=function(e){var t="";return"string"==typeof e?t=new Date(e.replace(/-/g,"/")):"object"==typeof e&&void 0===(t=e.date)&&(t=e),t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},N=function e(t,a,n,r){return t[a]==n&&n<r?e(t,a+1,n+1,r):n},k=function(e,t,a){t.arrivalTime,t.releaseTime;var n=new Date(e),r=new Date(x(t.arrivalDate)),s=new Date(x(t.releaseDate)),o=!1,c=!1,i=!1;r>=n&&r<=n?c=!0:s>=n&&s<=n?i=!0:o=!0;var l={kennelId:a,kennelSize:t.kennelSize,groupName:t.groupName,petName:t.petName,allDayStay:o,arrivingToday:c,releasingToday:i,arrivalTime:t.arrivalTime,releaseTime:t.releaseTime,notes:t.notes};return console.log("createPetReservationForDate is returning : ",l),l},D=function(e,t){var a=k(e,t,1);return Object(i.a)(Object(i.a)({date:e},function(){var e={};return v.kennelSizes.map((function(t){e[t.size+"Total"]=t.total,e[t.size+"Available"]=!0})),e}()),{},{kennelReservations:[a]})},T=function(e,t,a){var n={},r=!0;if(a[e]){n=a[e];var s=function(e,t){var a=e[t+"Total"],n=e.kennelReservations.filter((function(e){return e.kennelSize==t}));if(a<=n.length){var r={};return r=y.getFirstAvailableIdOfKennelSize?Object(i.a)(Object(i.a)({},y),{},{getFirstAvailableIdOfKennelSize:[].concat(Object(c.a)(y.getFirstAvailableIdOfKennelSize),["Kennel size ".concat(t," is full on ").concat(e.date)])}):Object(i.a)(Object(i.a)({},y),{},{getFirstAvailableIdOfKennelSize:["Kennel size ".concat(t," is full on ").concat(e.date)]}),y=r,!1}var s=[];return n.map((function(e){s.push(e.kennelId)})),0==s.length&&s.push(0),N(s,0,1,a)}(a[e],t.kennelSize);if(!1===s)return y=Object(i.a)(Object(i.a)({},y),{},{addPetReservationToDate:"kennelIdToReserve = createPetReservationForDate() didn't resolve: ".concat(s)}),r=!1,!1;var o=k(e,t,s);if(!0===o)return y=Object(i.a)(Object(i.a)({},y),{},{addPetReservationToDate:"successCheck = getFirstAvailableIdOfKennelSize() didn't resolve: ".concat(o)}),!1;n.kennelReservations.push(o)}else{var l=D(e,t);if(!1===l)return console.log("SUCCESS CHECK NOT MET IN addPetReservationToDate, successCheck: ",l),r=!1,y=Object(i.a)(Object(i.a)({},y),{},{addPetReservationToDate:"successCheck = createReservationsForDate() didn't resolve: ".concat(l)}),!1;n=l}return!1!==r?(console.log("addPetReservationToDate successStatus: ",r,"passing on: ",n),n):(console.log("addPetReservationToDate falied. successStatus: ",r),!1)},F=function(e,t){var a=function(e){for(var t={},a=new Date(x(e.arrivalDate)),n=new Date(x(e.releaseDate)),r=!1,s=0;!1===r;)n>=a&&n<=a&&(r=!0),t[x(a)]={date:x(a)},a.setDate(a.getDate()+1),++s>12&&(r=!0,console.log("generateDatesFromPet while loop overflow!!!"));return t}(e),n={},r=!0;return Object.keys(a).map((function(a){var s=T(a,e,t);if(!1===s)return console.log("SUCCESS CHECK NOT MET IN processNewPet, successCheck: ",s),r=!1,y=Object(i.a)(Object(i.a)({},y),{},{processNewPet:"successCheck = addPetReservationToDate() didn't resolve: ".concat(s)}),!1;n[a]=s})),!1!==r&&(console.log("processNewPet is returning",n),n)};return Object(d.jsxs)("div",{className:"App",children:[v.kennelSizes.map((function(e){return Object(d.jsxs)("p",{children:[e.total," kennels available of size ",e.size]})})),Object(d.jsx)("hr",{}),Object(d.jsx)("pre",{stlye:"background-color:lightred",children:JSON.stringify(f,null,2)}),Object(d.jsx)("hr",{}),Object(d.jsx)(j,{passNewGroupStayUpScope:function(e){var t,a=s,n="";if(y={},Object.keys(e.pets).map((function(t){var r=F(e.pets[t],a);0==r?(console.log("SUCCESS CHECK NOT MET IN newGroupStayHandler , successCheck: ",r),y=Object(i.a)(Object(i.a)({},y),{},{newGroupStayHandler:"successCheck = processNewPet() didn't resolve: ".concat(r)}),n=!1):(a=r,n=!0)})),!0===n){console.log("Updating STATE with: ",a,n),y={reset:"successful update"},function(e){for(var t=p,a=!0,n=1,r=e.groupName+"-"+n;!0===a&&n<99;)p[r]?r=e.groupName+"-"+n:a=!1,n++;n>50&&console.log("addGroupToGroupStays while loop overflow!!!!",n),t[r]=e,console.log("label for group is : ",r),m(t)}(e);var r=Object(i.a)(Object(i.a)({},s),a),c=(t=r,Object.keys(t).sort((function(e,t){return new Date(e)-new Date(t)})).reduce((function(e,a){return e[a]=t[a],e}),{}));console.log("sortedReservationsState is : ",c),o(c)}else console.log("proccessPetErrorState at FAIL :",y);S(y),console.log("-------------------------"),console.log("-------------------------")}}),Object(d.jsx)("hr",{}),Object(d.jsx)(O,{reservations:s})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))},S=a(8),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e+t.payload;case"DECREMENT":return e-1;default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},N=Object(S.a)({counter:y,logged:x}),k=Object(S.b)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(h.a,{store:k,children:Object(d.jsx)(g,{})})}),document.getElementById("root")),f()},9:function(e){e.exports=JSON.parse('{"kennelSizes":[{"size":"small","total":4},{"size":"medium","total":6},{"size":"large","total":3}]}')}},[[25,1,2]]]);
//# sourceMappingURL=main.c04ec6b0.chunk.js.map